---
title: 如何使用命令行程序
date: 2024-12-14
author: familyboat
---

作为一名程序员，学会使用[命令行](https://en.wikipedia.org/wiki/Command-line_interface)程序是必备的技能之一。命令行程序的学习可以分为三个阶段：

1. 学习如何获取该命令行程序的帮助信息；
2. 学习命令行程序的组成部分；
3. 学习如何设计一款符合人体工程学的命令行程序

<!-- more -->

## 如何获取命令行程序的帮助信息

根据命令行程序的设计原则，一般可以通过以下命令获取其帮助信息：

```shell
<command> --help
# 或者
<command> -h

# 例如
deno --help
```

## 命令行程序的组成部分

在构建命令行程序时，一般会命令行参数解析库对命令行程序的输入数据进行解析。例如：Python 的 Argparse、Rust 的 clap 等等。

命令行参数解析库一般会遵循一些约定俗称的规定（当然，也存在例外情况；例如，有的命令行解析库支持嵌套选项）。通常来说，命令行程序的主体部分是命令，接着是可选的输入数据。而输入数据有两种形式：选项（也称为标志）和位置参数；其中，选项分为长选项和短选项。

- 位置参数是位于命令右边的非选项的值，可以位于选项的前面或后面；
- 长选项总是以两个短横线为开头；
- 短选项总是以一个短横线为开头；

长选项或短选项指定相应的值有多种方式。长选项和其值之间由空格（一个或多个）或一个等号；而短选项和其值之间由空格（一个或多个）或一个等号或直接跟值。

当某选项存在时，有两种形式可以指定该选项的值：方括号或尖括号。方括号代表该值是可选的，即可指定也可不指定；而尖括号代表该值是必选的，必须要指定。

## 如何设计一款符合人体工程学的命令行程序

想要让你的命令行程序让更多的人使用，需要在用户体验这个维度花很多的精力。

### 命令行程序的设计原则

[这篇文章](https://clig.dev/)对命令行的设计原则做了详细的介绍。

### 为命令行程序提供补全功能

当你为你的命令行程序提供了补全功能时，能为用户提供极大的便利。

## 一个命令行程序示例

为了方便升级 deno 版本，我写了一个[命令行应用](https://jsr.io/@familyboat/deno-fetch-mirror)。

## 许可

This work © 2024-12-14 by familyboat is licensed under Creative Commons Attribution 4.0 International
